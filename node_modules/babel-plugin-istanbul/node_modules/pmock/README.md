# pmock 

[![NPM](https://nodei.co/npm/pmock.png)](https://nodei.co/npm/pmock/)

[![GitHub version](https://badge.fury.io/gh/arjanfrans%2Fnode-pmock.svg)](http://badge.fury.io/gh/arjanfrans%2Fnode-pmock)
[![Build Status](https://travis-ci.org/arjanfrans/node-pmock.svg?branch=master)](https://travis-ci.org/arjanfrans/node-pmock)
[![Dependency Status](https://david-dm.org/arjanfrans/node-pmock.svg)](https://david-dm.org/arjanfrans/node-pmock)
[![devDependency Status](https://david-dm.org/arjanfrans/node-pmock/dev-status.svg)](https://david-dm.org/arjanfrans/node-pmock#info=devDependencies)
[![Coverage Status](https://coveralls.io/repos/arjanfrans/node-pmock/badge.svg?branch=master&service=github)](https://coveralls.io/github/arjanfrans/node-pmock?branch=master)

Mock **any** of the [process properties](https://nodejs.org/api/process.html) of Node.
Useful to mock things in tests, for example: environment variables, memory usage or the current working directory.

Any process property not used in the global scope (of a module) will can be mocked.

## Example

Here is an example usage in a mocha test:

```Node
describe('pmock test', function() {

    before(function() {
        // Replace 'env' in this case.
        this.env = pmock.env({
            ENVMOCK_TEST: 'hello'
        });
        // Mock 'cwd()'
        this.cwd = pmock.cwd(__dirname + '/somelocation');
    });

    it('...', function() {
        // Some tests of functions that uses process.env and process.cwd()
    });

    after(function() {
        // Reset back to original value.
        this.env.reset();
        this.cwd.reset();
    });

});
```
